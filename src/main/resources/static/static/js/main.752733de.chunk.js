(this["webpackJsonphelmes-front"]=this["webpackJsonphelmes-front"]||[]).push([[0],{52:function(e,t,a){e.exports=a(62)},57:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=(a(57),a(102)),s=a(63),l=a(27),u=a(104),m=a(103);var f=function(e){var t=e.tree,a=e.activeSectors,n=e.setActiveSectors;return r.a.createElement(m.a,{multiple:!0,native:!0,value:a,onChange:function(e){for(var t=e.target.options,a=[],r=0,c=t.length;r<c;r+=1)t[r].selected&&a.push(t[r].value);n(a)},inputProps:{id:"select-multiple-native"}},t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id,style:{marginLeft:e.depth+"em"}},e.sector)})))},d=a(100),v=a(105);var h=function(e){var t=e.terms,a=e.setTerms;return r.a.createElement(d.a,{control:r.a.createElement(v.a,{checked:t,onChange:function(e){a(e.target.checked)},name:"terms",color:"primary"}),label:"Agreed to terms"})},p=a(101);var E=function(e){e.clientData;var t=e.dataSubmit;return r.a.createElement(p.a,{variant:"contained",onClick:t},"Save")},g=a(41),S=a.n(g);var b=function(e){fetch("http://localhost:8080/sector",{}).then((function(e){return e.json()})).then((function(t){return function(e,t){var a=[];e.forEach((function(t){null===t.parentId&&(a.push({id:t.id,sector:t.sector,parentId:t.parentId,depth:0}),function e(t,a,n){var r=[];return t.forEach((function(c){if(c.parentId===a){var o=e(t,c.id,n+1);r.push({id:c.id,sector:c.sector,parentId:c.parentId,depth:n}),o.forEach((function(e){r.push(e)}))}})),r}(e,t.id,1).forEach((function(e){a.push(e)})))})),t(a)}(t,e)}))};var N=function(e){fetch("http://localhost:8080/client",{}).then((function(e){return e.json()})).then((function(t){return e(t)}))};var y=function(e,t,a){fetch("http://localhost:8080/client",{method:e,headers:{"X-XSRF-TOKEN":t,"Content-Type":"application/json",credentials:"include"},body:JSON.stringify(a)}),window.location.reload(!1)};var w=function(e){var t,a,n;return e.firstName?t=!0:(t=!1,alert("Please enter name.")),e.activeSectors?a=!0:(a=!1,alert("Please select sectors you are involved.")),e.terms?n=!0:(n=!1,alert("Please agree with the terms.")),!!(t&&a&&n)};var O=function(){var e=r.a.useState([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=r.a.useState({}),i=Object(l.a)(o,2),s=i[0],m=i[1],d=r.a.useState(""),v=Object(l.a)(d,2),p=v[0],g=v[1],O=r.a.useState([]),j=Object(l.a)(O,2),k=j[0],I=j[1],P=r.a.useState(!1),T=Object(l.a)(P,2),C=T[0],A=T[1],B=S.a.get("XSRF-TOKEN");Object(n.useEffect)((function(){b(c),N(m)}),[]),Object(n.useEffect)((function(){g(s.firstName),I(s.sectors),A(s.terms)}),[s]);var J={firstName:p,activeSectors:k,terms:C};return r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:"gaps-small"},r.a.createElement(u.a,{id:"name",label:"Name",value:p,onChange:function(e){g(e.target.value)},variant:"filled"})),r.a.createElement("div",{className:"gaps-small"},r.a.createElement(f,{tree:a,activeSectors:k,setActiveSectors:I})),r.a.createElement("div",{className:"gaps-small"},r.a.createElement(h,{terms:C,setTerms:A}),r.a.createElement(E,{clientData:s,dataSubmit:function(){var e=w(J);!1===s.terms&&e?y("POST",B,J):!1!==s.terms&&e&&y("PUT",B,J)}})))};a(61);var j=function(){return r.a.createElement(i.a,{className:"App"},r.a.createElement("div",{className:"gaps"},r.a.createElement(s.a,{variant:"h5",gutterBottom:!0},"Please enter your name and pick the Sectors you are currently involved in.")),r.a.createElement("div",{className:"gaps"},r.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.752733de.chunk.js.map